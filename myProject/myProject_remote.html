<html>
	<title>Leggo Draw</title>
	<head>
	<script src="https://cdn.jsdelivr.net/gh/tuftsceeo/SPIKE-Web-Interface/cdn/ServiceDock.js" charset="utf-8"></script>
	<script src="../src/secret.js" charset="utf-8"></script>
	<script src="../src/cloud.js" charset="utf-8"></script>
	<link rel="stylesheet" href="../src/style.css" />
    <script type="text/javascript" src="draw.js"></script>
	<script type="text/javascript">




		function display_image(name, value) {
			// name will be 'new_image_path'
			// value will be the URL of the image
			// - set the local HTML img element's src to be the image URL
			document.getElementById('remote_tag_to_update').src = value;
        }

        function reset(){
            cloud_update("color", "white");
            cloud_update("command", "reset");
        }
		
        var leftMotorSlider = document.getElementById("leftRange");
        var leftMotorOutput = document.getElementById("leftValue");
        leftMotorOutput.innerHTML = leftMotorSlider.value;

        leftMotorSlider.oninput = function(){
            leftMotorOutput.innerHTML = this.value;
        }

	</script>
     

    <style>
        body{
              background-color: lightblue;
              margin: 0 0 0 0;
        }


        
    </style>
	</head>
<body>

	<!-- SERVICE DOCK -->
	<div id="servicedock">
		<service-airtable id="service_airtable" tablename="LeggoDraw"></service-airtable>
	</div>

<hr>
  <h1>Leggo Draw</h1>

<div class ="motorControls">
    <h2> MOTOR CONTROLS</h2>
    <h3 class="h3left"> LEFT MOTOR SPEED: </h3>
  <input type=range cloud_action='update' cloud_name='MotorA_speed' cloud_min="-50" cloud_max="50" min='-50' max='50' value='0' class='slider' id="leftRange"/>
  <!--<p> Value: <span id="leftValue"></span></p>-->

  <h3 class="h3right"> RIGHT MOTOR SPEED: </h3>
  <input type=range cloud_action='update' cloud_name='MotorB_speed' cloud_min="-50" cloud_max="50" min='-50' max='50' value='0' class='slider'/>

  <h3 class="h3rotating"> ROTATING MOTOR SPEED: </h3>
  <input type=range cloud_action='update' cloud_name='MotorC_speed' cloud_min="-100" cloud_max="100" min='-100' max='100' value='0' class='slider' /> <br>

  <img src="./img/legg-draw_diagram.jpg" width="250" height="auto">
</div>
  
<div class ="colorControls">
    <h2> COLOR</h2>
    <button id="blackColor" onclick = 'cloud_update("color", "black")''></button> <br>
    <button id="redColor" onclick = 'cloud_update("color", "red")'></button> <br>
    <button id="orangeColor" onclick = 'cloud_update("color", "orange")'> </button> <br>
    <button id="yellowColor" onclick = 'cloud_update("color", "yellow")'> </button> <br>
    <button id="greenColor" onclick = 'cloud_update("color", "green")'> </button> <br>
    <button id="blueColor" onclick = 'cloud_update("color", "blue")'> </button> <br>
    <button id="purpleColor" onclick = 'cloud_update("color", "purple")'> </button> <br>
    <!--<button id='clear'>Clear </button>-->
</div>

<div class="run">
      <p><button id="run" cloud_action='update' cloud_name='command'>RUN</button></p>
      <p><button id="stop" cloud_action='update' cloud_name='command'>STOP</button></p><br><br>
      <button id='saveImage' cloud_action='update' cloud_name='immage_command'>Save</button><br>
      <button id = "reset" onclick='reset()'>Reset</button>
</div>

<div class="displayImage">
    <h3> Image displayed here: </h3> 
    <img id='remote_tag_to_update' width="500" height="auto" src=''>
    <h3> Left click image and save to computer </h3>
</div>

<br><br><br><br><br>

<hr>

<div type="cloud_check" cloud_compare="changes" cloud_action="run_js">
		<input type=text id="cloud_name" value="new_image_path">
		<input type=text id="cloud_action_val" value="display_image">
    </div>

</body>
</html>
